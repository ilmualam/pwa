<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ilmu Alam - a Motivation Islamic Blog">
    <meta name="theme-color" content="#4CAF50">
    <title>Motivasi Islamik</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="https://ilmualam.github.io/pwa/manifest.json">
    
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="https://ilmualam.github.io/pwa/assets/icon-192x192.png">
    
    <!-- Styles -->
    <link rel="stylesheet" href="https://ilmualam.github.io/pwa/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üåø Ilmu Alam</h1>
            <p class="subtitle">Ilmu Alam's Site Development</p>
        </header>
        
        <main>
            <section class="welcome">
                <h2>Welcome to Our Site</h2>
                <p>Discover everything you need to know about Islamic and self development, including the categories that counted on our site. Now we are on the Progressive Web App features for offline access.</p>
            </section>
            
            <section class="features">
                <h2>Features</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>üì± Progressive Web App</h3>
                        <p>Install on your device and access content offline</p>
                    </div>
                    <div class="feature-card">
                        <h3>üå± Islamik</h3>
                        <p>Sharing anything that related to Islam</p>
                    </div>
                    <div class="feature-card">
                        <h3>üè° Solat</h3>
                        <p>All about solat and its sub category</p>
                    </div>
                    <div class="feature-card">
                        <h3>üîß Resources</h3>
                        <p>Our main source is always via JAKIM a.k.a Jabatan Agama Islam Malaysia</p>
                    </div>
                </div>
            </section>
            
            <section class="pwa-status">
                <h2>PWA Status</h2>
                <p id="sw-status">Checking service worker status...</p>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2025 <a href="https://www.ilmualam.com" target="_blank">Ilmu Alam Site - Muslimin Project</a></p>
        </footer>
    </div>
    
    <!-- Service Worker Registration -->
    <script>
        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('https://ilmualam.github.io/pwa/sw.js')
                    .then((registration) => {
                        console.log('Service Worker registered successfully:', registration);
                        document.getElementById('sw-status').textContent = 
                            '‚úÖ Service Worker registered successfully! PWA is ready.';
                        document.getElementById('sw-status').style.color = '#4CAF50';
                    })
                    .catch((error) => {
                        console.error('Service Worker registration failed:', error);
                        document.getElementById('sw-status').textContent = 
                            '‚ùå Service Worker registration failed: ' + error.message;
                        document.getElementById('sw-status').style.color = '#f44336';
                    });
            });
        } else {
            document.getElementById('sw-status').textContent = 
                '‚ö†Ô∏è Service Workers are not supported in this browser.';
            document.getElementById('sw-status').style.color = '#ff9800';
        }
        
        // Handle install prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            console.log('PWA install prompt available');
        });
    </script>
</body>
</html>
